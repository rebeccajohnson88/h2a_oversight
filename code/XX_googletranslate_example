import googletrans
from googletrans import Translator 

# Attempt Google translate

def detect_lang(one_input):
    '''
    Function to detect the language and how confident 
    Google is on the detected language of the text message
    '''
    translator = Translator() # init the translator class 
    
    try: 
        detect = translator.detect(one_input)
        language_detected = detect.lang
        detected_lang_conf = detect.confidence
        
    except: 
        language_detected = 'Error'
        detected_lang_conf =  -1
    
    return language_detected, detected_lang_conf


def google_translate(one_msg): 
    '''
    Takes in one text message and translates it to English
    And returns the translated version
    '''
    translator = Translator()
    
    try: 
        initial_translate_init = translator.translate(one_msg, dest = 'en')
        translated_text = initial_translate_init.text
    except:
        translated_text = 'Error'
        
    return translated_text